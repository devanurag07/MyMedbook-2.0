{"version":3,"sources":["components/reset-password.js"],"names":["ResetPassword","props","notify","message","toast","submitHandler","event","values","preventDefault","otp","state","mobile","verifyOTP","password","user_id","setNewPassword","setState","formValues","sendOTP","switchAuthModeHandler","prevState","isSignup","first_name","email","emailExist","data","postCall","BASE_URL","then","r","res","showOtp","errorMessage","catch","er","showPassword","history","push","Fragment","className","id","params","particles","number","value","density","enable","value_area","color","shape","type","stroke","width","polygon","nb_sides","image","src","height","opacity","random","anim","speed","opacity_min","sync","size","size_min","line_linked","distance","move","direction","straight","out_mode","bounce","attract","rotateX","rotateY","interactivity","detect_on","events","onhover","mode","onclick","resize","modes","grab","bubble","duration","repulse","particles_nb","remove","retina_detect","this","isOpen","onValidSubmit","model","name","placeholder","required","to","Component","connect","Auth","user","loading","registerError"],"mappings":"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","file":"static/js/18.4a557602.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport \"../assets/scss/login.scss\";\r\nimport { connect } from \"react-redux\";\r\nimport { AvForm, AvInput } from \"availity-reactstrap-validation\";\r\nimport { Alert } from \"reactstrap\";\r\nimport { postCall } from \"../helpers/axiosUtils\";\r\nimport { BASE_URL } from \"../helpers/constants\";\r\nimport Particles from \"react-particles-js\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nclass ResetPassword extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      formValues: {\r\n        first_name: \"\",\r\n        email: \"\",\r\n        mobile: \"\",\r\n        password: \"\",\r\n        otp: \"\",\r\n      },\r\n      emailExist: false,\r\n    };\r\n  }\r\n  notify = (message) => toast(message);\r\n\r\n  sendOTP(data) {\r\n    postCall(BASE_URL + `api/common/reset-password-otp/`, data)\r\n      .then((r) => {\r\n        let res = r.data;\r\n        this.setState({\r\n          showOtp: true,\r\n          user_id: res.user_id,\r\n          mobile: data[\"mobile\"],\r\n          errorMessage: null,\r\n        });\r\n        this.notify(\"OTP sent to your mobile number\");\r\n      })\r\n      .catch((er) => {\r\n        this.setState({ errorMessage: \"Please enter valid mobile/email\" });\r\n      });\r\n  }\r\n  verifyOTP(data) {\r\n    postCall(BASE_URL + `api/common/verify-reset-password-otp/`, data)\r\n      .then((r) => {\r\n        this.setState({ showPassword: true, errorMessage: null });\r\n      })\r\n      .catch((er) => {\r\n        this.setState({ errorMessage: \"Please enter valid otp\" });\r\n      });\r\n  }\r\n  setNewPassword(data) {\r\n    postCall(BASE_URL + `api/common/set-new-password/`, data)\r\n      .then((r) => {\r\n        this.notify(\"New Password updated!\");\r\n        this.props.history.push(`/login`);\r\n      })\r\n      .catch((er) => {\r\n        this.setState({ errorMessage: \"Failed to set password\" });\r\n      });\r\n  }\r\n  submitHandler = (event, values) => {\r\n    event.preventDefault();\r\n    if (values.otp) {\r\n      values[\"mobile\"] = this.state.mobile;\r\n      this.verifyOTP(values);\r\n    } else if (values.password) {\r\n      values[\"user_id\"] = this.state.user_id;\r\n      this.setNewPassword(values);\r\n    } else {\r\n      this.setState({\r\n        formValues: values,\r\n      });\r\n      this.sendOTP(values);\r\n    }\r\n  };\r\n\r\n  switchAuthModeHandler = () => {\r\n    this.setState((prevState) => {\r\n      return { isSignup: !prevState.isSignup };\r\n    });\r\n  };\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <section className=\"position-relative\">\r\n          <Particles\r\n            id=\"particles-js\"\r\n            params={{\r\n              particles: {\r\n                number: {\r\n                  value: 160,\r\n                  density: {\r\n                    enable: true,\r\n                    value_area: 800,\r\n                  },\r\n                },\r\n                color: {\r\n                  value: \"#1360ef\",\r\n                },\r\n                shape: {\r\n                  type: \"circle\",\r\n                  stroke: {\r\n                    width: 0,\r\n                    color: \"#f94f15\",\r\n                  },\r\n                  polygon: {\r\n                    nb_sides: 5,\r\n                  },\r\n                  image: {\r\n                    src: \"img/github.svg\",\r\n                    width: 100,\r\n                    height: 100,\r\n                  },\r\n                },\r\n                opacity: {\r\n                  value: 1,\r\n                  random: true,\r\n                  anim: {\r\n                    enable: true,\r\n                    speed: 1,\r\n                    opacity_min: 0,\r\n                    sync: false,\r\n                  },\r\n                },\r\n                size: {\r\n                  value: 3,\r\n                  random: true,\r\n                  anim: {\r\n                    enable: false,\r\n                    speed: 4,\r\n                    size_min: 0.3,\r\n                    sync: false,\r\n                  },\r\n                },\r\n                line_linked: {\r\n                  enable: false,\r\n                  distance: 150,\r\n                  color: \"#ffffff\",\r\n                  opacity: 0.4,\r\n                  width: 1,\r\n                },\r\n                move: {\r\n                  enable: true,\r\n                  speed: 1,\r\n                  direction: \"none\",\r\n                  random: true,\r\n                  straight: false,\r\n                  out_mode: \"out\",\r\n                  bounce: false,\r\n                  attract: {\r\n                    enable: false,\r\n                    rotateX: 600,\r\n                    rotateY: 600,\r\n                  },\r\n                },\r\n              },\r\n              interactivity: {\r\n                detect_on: \"canvas\",\r\n                events: {\r\n                  onhover: {\r\n                    enable: true,\r\n                    mode: \"bubble\",\r\n                  },\r\n                  onclick: {\r\n                    enable: true,\r\n                    mode: \"repulse\",\r\n                  },\r\n                  resize: true,\r\n                },\r\n                modes: {\r\n                  grab: {\r\n                    distance: 400,\r\n                    line_linked: {\r\n                      opacity: 1,\r\n                    },\r\n                  },\r\n                  bubble: {\r\n                    distance: 250,\r\n                    size: 0,\r\n                    duration: 2,\r\n                    opacity: 0,\r\n                    speed: 3,\r\n                  },\r\n                  repulse: {\r\n                    distance: 400,\r\n                    duration: 0.4,\r\n                  },\r\n                  push: {\r\n                    particles_nb: 4,\r\n                  },\r\n                  remove: {\r\n                    particles_nb: 2,\r\n                  },\r\n                },\r\n              },\r\n              retina_detect: true,\r\n            }}\r\n          />\r\n          <div className=\"container\">\r\n            <div className=\"row  text-center\">\r\n              <div className=\"col\">\r\n                <h1>Forgot Password</h1>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </section>\r\n        <div className=\"page-content\">\r\n          <section className=\"register\">\r\n            <div className=\"container\">\r\n              <div className=\"row justify-content-center text-center\">\r\n                <div className=\"col-5\">\r\n                  <div>\r\n                    <h2>Forgot your password?</h2>\r\n                    <p>Enter your email/mobile to reset your password.</p>\r\n                  </div>\r\n                  {this.state.errorMessage && (\r\n                    <Alert\r\n                      color=\"danger\"\r\n                      isOpen={this.state.errorMessage ? true : false}\r\n                    >\r\n                      <div>{this.state.errorMessage}</div>\r\n                    </Alert>\r\n                  )}\r\n                  <AvForm\r\n                    onValidSubmit={this.submitHandler}\r\n                    model={this.state.formValues}\r\n                  >\r\n                    {!this.state.showOtp && (\r\n                      <div className=\"row\">\r\n                        <div className=\"col-md-12\">\r\n                          <div className=\"form-group\">\r\n                            <AvInput\r\n                              type=\"text\"\r\n                              name=\"mobile\"\r\n                              className=\"form-control\"\r\n                              placeholder=\"Please enter email/mobile\"\r\n                              required\r\n                            />\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                    {this.state.showPassword && (\r\n                      <div className=\"col-md-12\">\r\n                        <div className=\"form-group\">\r\n                          <AvInput\r\n                            type=\"password\"\r\n                            name=\"password\"\r\n                            className=\"form-control\"\r\n                            placeholder=\"Password\"\r\n                            required\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                    {this.state.showOtp && !this.state.showPassword && (\r\n                      <div className=\"row\">\r\n                        <div className=\"col-md-12\">\r\n                          <div className=\"form-group\">\r\n                            <AvInput\r\n                              type=\"number\"\r\n                              name=\"otp\"\r\n                              className=\"form-control\"\r\n                              placeholder=\"Please enter otp\"\r\n                              required\r\n                            />\r\n                          </div>\r\n                          <div className=\"form-text mb-2\">\r\n                            Please enter the otp that you received your\r\n                            registered Mobile\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                    <div className=\"row\">\r\n                      <div className=\"col-md-12\">\r\n                        <input\r\n                          type=\"submit\"\r\n                          value={\r\n                            this.state.showPassword\r\n                              ? \"Set New Password\"\r\n                              : this.state.showOtp\r\n                              ? \"Verify OTP\"\r\n                              : \"Send OTP\"\r\n                          }\r\n                          className=\"btn btn-primary\"\r\n                        />\r\n                        <span className=\"mt-4 d-block\">\r\n                          Have An Account ?{\" \"}\r\n                          <NavLink to=\"/login\">\r\n                            <i>Sign In!</i>{\" \"}\r\n                          </NavLink>\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                  </AvForm>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </section>\r\n        </div>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = (state) => {\r\n  const { user, loading, registerError } = state.Auth;\r\n  return { user, loading, registerError };\r\n};\r\nexport default connect(mapStateToProps)(ResetPassword);\r\n"],"sourceRoot":""}